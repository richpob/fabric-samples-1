[0;34mUsing docker and docker-compose[0m
[0;34mStopping network[0m
[0;34mRemoving remaining containers[0m
[0;34mRemoving generated chaincode docker images[0m
Untagged: dev-peer0.cantabria.universidades.com-studentchaincode_1.0.1-8828c71ae10d2fcf183e864e55ef2540d1de31bf7d7c821ca26a1c63f030e50f-a6f6be16be2743a3428953522fc6fb6e2c79a75f88b5529ac98a384e5af97910:latest
Deleted: sha256:b30c98f0a5f49b8b267ddc2d974071f8edc6f5fa534201439035ac12e8ebd649
Deleted: sha256:b9bf8b3a56b68e77f256925246119caa8355655287982f5e756677da8c3a2598
Deleted: sha256:06c2ab96ee7210b82b16273bd01041c082fd5f66c71ad4d9d37351117402aceb
Deleted: sha256:ea18ec54aad7773ffea1821ca048bfb8a317a45a03942794265cf2581bd4eeb3
Untagged: dev-peer0.iebs.universidades.com-studentchaincode_1.0.1-8828c71ae10d2fcf183e864e55ef2540d1de31bf7d7c821ca26a1c63f030e50f-52d7c2b80dabe94e1c4baae701129671da0853e60c58e60fbd32e2e17149f0a6:latest
Deleted: sha256:2e76e8ce48575b2502d8ac605ebe29a248acdd128076a0f480a08d7f3aee4762
Deleted: sha256:842129e9181dc7e831b0c5aa31f7bb59de3c9d236c84d8a9fd677d5c3e5ffc2d
Deleted: sha256:114fdada83aeab78f4ab6bd258caacfb104b06c0a7c774e89fb1947a70b6b2b0
Deleted: sha256:ed8389c113751f22f2247ede7af73c3dd3e96fce557d448d6e7cf96ca1d80d05
blockchain-explorer_pgdata
blockchain-explorer_walletstore
[0;34mUsing docker and docker-compose[0m
[0;34mCreating channel 'mychannel'.[0m
[0;34mIf network is not up, starting nodes with CLI timeout of '5' tries and CLI delay of '3' seconds and using database 'couchdb with crypto from 'Certificate Authorities'[0m
[0;34mBringing up network[0m
[0;34mLOCAL_VERSION=v2.5.9[0m
[0;34mDOCKER_IMAGE_VERSION=v2.5.9[0m
[0;34mCA_LOCAL_VERSION=v1.5.12[0m
[0;34mCA_DOCKER_IMAGE_VERSION=v1.5.12[0m
[0;34mGenerating certificates using Fabric CA[0m
 Network universidades_network  Creating
 Network universidades_network  Created
 Container ca_iebs  Creating
 Container ca_orderer  Creating
 Container ca_cantabria  Creating
 Container ca_orderer  Created
 Container ca_cantabria  Created
 Container ca_iebs  Created
 Container ca_orderer  Starting
 Container ca_cantabria  Starting
 Container ca_iebs  Starting
 Container ca_cantabria  Started
 Container ca_iebs  Started
 Container ca_orderer  Started
[0;34mCreating Iebs Identities[0m
[0;34mEnrolling the CA admin[0m
[0;34mRegistering peer0[0m
Password: peer0pw
[0;34mRegistering user[0m
Password: user1pw
[0;34mRegistering the org admin[0m
Password: iebsadminpw
[0;34mGenerating the peer0 msp[0m
[0;34mGenerating the peer0-tls certificates, use --csr.hosts to specify Subject Alternative Names[0m
[0;34mGenerating the user msp[0m
[0;34mGenerating the org admin msp[0m
[0;34mCreating Cantabria Identities[0m
[0;34mEnrolling the CA admin[0m
[0;34mRegistering peer0[0m
Password: peer0pw
[0;34mRegistering user[0m
Password: user1pw
[0;34mRegistering the org admin[0m
Password: cantabriaadminpw
[0;34mGenerating the peer0 msp[0m
[0;34mGenerating the peer0-tls certificates, use --csr.hosts to specify Subject Alternative Names[0m
[0;34mGenerating the user msp[0m
[0;34mGenerating the org admin msp[0m
[0;34mCreating Orderer Org Identities[0m
[0;34mEnrolling the CA admin[0m
[0;34mRegistering orderer[0m
Password: ordererpw
[0;34mRegistering the orderer admin[0m
Password: ordererAdminpw
[0;34mGenerating the orderer msp[0m
[0;34mGenerating the orderer-tls certificates, use --csr.hosts to specify Subject Alternative Names[0m
[0;34mGenerating the admin msp[0m
[0;34mGenerating CCP files for Iebs and Cantabria[0m
 Volume "compose_orderer.universidades.com"  Creating
 Volume "compose_orderer.universidades.com"  Created
 Volume "compose_peer0.cantabria.universidades.com"  Creating
 Volume "compose_peer0.cantabria.universidades.com"  Created
 Volume "compose_peer0.iebs.universidades.com"  Creating
 Volume "compose_peer0.iebs.universidades.com"  Created
time="2024-07-23T16:26:36-04:00" level=warning msg="Found orphan containers ([ca_cantabria ca_orderer ca_iebs]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container couchdb0  Creating
 Container orderer.universidades.com  Creating
 Container couchdb1  Creating
 Container orderer.universidades.com  Created
 Container couchdb1  Created
 Container couchdb0  Created
 Container peer0.cantabria.universidades.com  Creating
 Container peer0.iebs.universidades.com  Creating
 Container peer0.iebs.universidades.com  Created
 Container peer0.cantabria.universidades.com  Created
 Container orderer.universidades.com  Starting
 Container couchdb0  Starting
 Container couchdb1  Starting
 Container orderer.universidades.com  Started
 Container couchdb1  Started
 Container couchdb0  Started
 Container peer0.cantabria.universidades.com  Starting
 Container peer0.iebs.universidades.com  Starting
 Container peer0.cantabria.universidades.com  Started
 Container peer0.iebs.universidades.com  Started
CONTAINER ID   IMAGE                               COMMAND                  CREATED          STATUS                  PORTS                                                                                                                             NAMES
076942d23094   hyperledger/fabric-peer:latest      "peer node start"        3 seconds ago    Up Less than a second   0.0.0.0:9051->9051/tcp, :::9051->9051/tcp, 7051/tcp, 0.0.0.0:9445->9445/tcp, :::9445->9445/tcp                                    peer0.cantabria.universidades.com
bcfd013a5836   hyperledger/fabric-peer:latest      "peer node start"        3 seconds ago    Up Less than a second   0.0.0.0:7051->7051/tcp, :::7051->7051/tcp, 0.0.0.0:9444->9444/tcp, :::9444->9444/tcp                                              peer0.iebs.universidades.com
c10b16bf11fe   couchdb:3.3.3                       "tini -- /docker-entâ€¦"   6 seconds ago    Up Less than a second   4369/tcp, 9100/tcp, 0.0.0.0:7984->5984/tcp, :::7984->5984/tcp                                                                     couchdb1
7739bf3c67da   couchdb:3.3.3                       "tini -- /docker-entâ€¦"   6 seconds ago    Up Less than a second   4369/tcp, 9100/tcp, 0.0.0.0:5984->5984/tcp, :::5984->5984/tcp                                                                     couchdb0
23623548969a   hyperledger/fabric-orderer:latest   "orderer"                6 seconds ago    Up Less than a second   0.0.0.0:7050->7050/tcp, :::7050->7050/tcp, 0.0.0.0:7053->7053/tcp, :::7053->7053/tcp, 0.0.0.0:9443->9443/tcp, :::9443->9443/tcp   orderer.universidades.com
38d66c2491e9   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   15 seconds ago   Up 10 seconds           0.0.0.0:8054->8054/tcp, :::8054->8054/tcp, 7054/tcp, 0.0.0.0:18054->18054/tcp, :::18054->18054/tcp                                ca_cantabria
c6d2426dd651   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   15 seconds ago   Up 10 seconds           0.0.0.0:9054->9054/tcp, :::9054->9054/tcp, 7054/tcp, 0.0.0.0:19054->19054/tcp, :::19054->19054/tcp                                ca_orderer
2ad2dd1082cd   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   15 seconds ago   Up 10 seconds           0.0.0.0:7054->7054/tcp, :::7054->7054/tcp, 0.0.0.0:17054->17054/tcp, :::17054->17054/tcp                                          ca_iebs
[0;34mUsing docker and docker-compose[0m
[0;34mGenerating channel genesis block 'mychannel.block'[0m
[0;34mUsing organization 1[0m
/home/ubuntu/fabric-samples/universidades/../bin/configtxgen
[0;34mCreating channel mychannel[0m
[0;34mAdding orderers[0m
Status: 201
{
	"name": "mychannel",
	"url": "/participation/v1/channels/mychannel",
	"consensusRelation": "consenter",
	"status": "active",
	"height": 1
}

[0;32mChannel 'mychannel' created[0m
[0;34mJoining iebs peer to the channel...[0m
[0;34mUsing organization 1[0m
[34m2024-07-23 16:26:49.006 -04 0001 INFO[0m [channelCmd] [34;1mInitCmdFactory[0m -> Endorser and orderer connections initialized
[34m2024-07-23 16:26:49.057 -04 0002 INFO[0m [channelCmd] [34;1mexecuteJoin[0m -> Successfully submitted proposal to join channel
[0;34mJoining cantabria peer to the channel...[0m
[0;34mUsing organization 2[0m
[34m2024-07-23 16:26:52.120 -04 0001 INFO[0m [channelCmd] [34;1mInitCmdFactory[0m -> Endorser and orderer connections initialized
[34m2024-07-23 16:26:52.173 -04 0002 INFO[0m [channelCmd] [34;1mexecuteJoin[0m -> Successfully submitted proposal to join channel
[0;34mSetting anchor peer for iebs...[0m
[0;34mUsing organization 1[0m
[0;34mFetching channel config for channel mychannel[0m
[0;34mUsing organization 1[0m
[0;34mFetching the most recent configuration block for the channel[0m
[0;34mDecoding config block to JSON and isolating config to /home/ubuntu/fabric-samples/universidades/channel-artifacts/IebsMSPconfig.json[0m
[0;34mGenerating anchor peer update transaction for Org1 on channel mychannel[0m
[34m2024-07-23 16:26:52.403 -04 0001 INFO[0m [channelCmd] [34;1mInitCmdFactory[0m -> Endorser and orderer connections initialized
[34m2024-07-23 16:26:52.411 -04 0002 INFO[0m [channelCmd] [34;1mupdate[0m -> Successfully submitted channel update
[0;32mAnchor peer set for org 'IebsMSP' on channel 'mychannel'[0m
[0;34mSetting anchor peer for cantabria...[0m
[0;34mUsing organization 2[0m
[0;34mFetching channel config for channel mychannel[0m
[0;34mUsing organization 2[0m
[0;34mFetching the most recent configuration block for the channel[0m
[0;34mDecoding config block to JSON and isolating config to /home/ubuntu/fabric-samples/universidades/channel-artifacts/CantabriaMSPconfig.json[0m
[0;34mGenerating anchor peer update transaction for Org2 on channel mychannel[0m
[34m2024-07-23 16:26:52.655 -04 0001 INFO[0m [channelCmd] [34;1mInitCmdFactory[0m -> Endorser and orderer connections initialized
[34m2024-07-23 16:26:52.664 -04 0002 INFO[0m [channelCmd] [34;1mupdate[0m -> Successfully submitted channel update
[0;32mAnchor peer set for org 'CantabriaMSP' on channel 'mychannel'[0m
[0;32mChannel 'mychannel' joined[0m
ubuntu@ubuntu:~/fabric-samples/universidades$ export PATH=${PWD}/../bin:$PATH
export FABRIC_CFG_PATH=$PWD/../config/
export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="IebsMSP"
export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/iebs.universidades.com/peers/peer0.iebs.universidades.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/iebs.universidades.com/users/Admin@iebs.universidades.com/msp
export CORE_PEER_ADDRESS=localhost:7051
export ORDERER_CA=${PWD}/organizations/ordererOrganizations/universidades.com/orderers/orderer.universidades.com/msp/tlscacerts/tlsca.universidades.com-cert.pem
ubuntu@ubuntu:~/fabric-samples/universidades$ peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.universidades.com --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA -C mychannel -n studentchaincode -c '{"function":"InitLedger","Args":[]}'
2024-07-23 17:22:56.718 -04 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200 

ubuntu@ubuntu:~/fabric-samples/universidades$ peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.universidades.com --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA -C mychannel -n studentchaincode -c '{"function":"RegisterStudent","Args":["3","Richard Poblete","IEBS"]}'
2024-07-23 17:39:16.212 -04 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200 
ubuntu@ubuntu:~/fabric-samples/universidades$ peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.universidades.com --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA -C mychannel -n studentchaincode -c '{"function":"TransferStudent","Args":["1","Cantabria"]}'
2024-07-23 17:40:04.230 -04 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200 
ubuntu@ubuntu:~/fabric-samples/universidades$ peer chaincode query -C mychannel -n studentchaincode -c '{"Args":["QueryStudent","1"]}'
{"id":"1","name":"John Doe","university":"Cantabria"}
